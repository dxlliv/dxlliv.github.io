var ie=Object.defineProperty;var se=(e,t,a)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var $=(e,t,a)=>se(e,typeof t!="symbol"?t+"":t,a);import{e as E,O as r,i as D,h as I,J,a6 as ue,o as i,c as b,a as j,q as H,D as k,v as A,L as U,K as X,ay as ce,k as y,p as m,w as s,_ as V,b as g,a3 as de,z as ve,$ as me,I as fe,s as h,d as R,t as T,az as he}from"./DPtuBQaQ.js";import ge from"./CFmDWlb1.js";(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.vue3-marquee{display:flex!important;position:relative}.vue3-marquee.horizontal{overflow-x:hidden!important;flex-direction:row!important;width:100%;height:max-content}.vue3-marquee.vertical{overflow-y:hidden!important;flex-direction:column!important;height:100%;width:max-content}.vue3-marquee:hover>.marquee{animation-play-state:var(--pauseOnHover)}.vue3-marquee:active>.marquee{animation-play-state:var(--pauseOnClick)}.vue3-marquee>.marquee{flex:0 0 auto;min-width:var(--min-width);min-height:var(--min-height);z-index:1;animation:var(--orientation) var(--duration) linear var(--delay) var(--loops);animation-play-state:var(--pauseAnimation);animation-direction:var(--direction)}.vue3-marquee.horizontal>.marquee{display:flex;flex-direction:row;align-items:center}.vue3-marquee.vertical>.marquee{display:flex;flex-direction:column;align-items:center}@keyframes scrollX{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes scrollY{0%{transform:translateY(0)}to{transform:translateY(-100%)}}.vue3-marquee>.overlay{position:absolute;width:100%;height:100%}.vue3-marquee>.transparent-overlay{position:absolute;width:100%;height:100%}.vue3-marquee>.overlay:before,.vue3-marquee>.overlay:after{content:"";position:absolute;z-index:2}.vue3-marquee.horizontal>.overlay:before,.vue3-marquee.horizontal>.overlay:after{background:linear-gradient(to right,var(--gradient-color));height:100%;width:var(--gradient-length)}.vue3-marquee.vertical>.overlay:before,.vue3-marquee.vertical>.overlay:after{background:linear-gradient(to bottom,var(--gradient-color));height:var(--gradient-length);width:100%}.vue3-marquee.horizontal>.overlay:after{transform:rotate(180deg)}.vue3-marquee.vertical>.overlay:after{transform:rotate(-180deg)}.vue3-marquee>.overlay:before{left:0;top:0}.vue3-marquee.horizontal>.overlay:after{right:0;top:0}.vue3-marquee.vertical>.overlay:after{left:0;bottom:0}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var ye=Object.defineProperty,K=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Y=(e,t,a)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,G=(e,t)=>{for(var a in t||(t={}))pe.call(t,a)&&Y(e,a,t[a]);if(K)for(var a of K(t))_e.call(t,a)&&Y(e,a,t[a]);return e},Oe=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a};const we=E({props:{vertical:{type:Boolean,default:!1},direction:{type:String,default:"normal"},duration:{type:Number,default:20},delay:{type:Number,default:0},loop:{type:Number,default:0},clone:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},gradientColor:{type:Array,default:[255,255,255]},gradientWidth:{type:String},gradientLength:{type:String},pauseOnHover:{type:Boolean,default:!1},pauseOnClick:{type:Boolean,default:!1},pause:{type:Boolean,default:!1},animateOnOverflowOnly:{type:Boolean,default:!1}},emits:["onComplete","onLoopComplete","onPause","onResume","onOverflowDetected","onOverflowCleared"],setup(e,{emit:t}){const a=r(0),n=r("100%"),o=r("100%"),f=r(0),l=r(!1),q=r(!0),u=r(0),c=r(0),M=r(0),p=r(0),_=r(!1),O=r(!1),S=r(0),C=r(null),v=r("200px"),B=r(!1),w=r(null),x=r(null),z=async()=>{await L(),f.value++},L=async()=>{e.vertical&&(l.value=!0),setInterval(()=>{if(n.value="0%",o.value="0%",w.value!==null&&x.value!==null&&w.value&&x.value)if(e.vertical&&"clientHeight"in w.value&&"clientHeight"in x.value){p.value=w.value.clientHeight,M.value=x.value.clientHeight;const d=Math.ceil(M.value/p.value);return a.value=e.animateOnOverflowOnly?0:isFinite(d)?d:0,l.value=!1,a.value}else if(!e.vertical&&"clientWidth"in w.value&&"clientWidth"in x.value){if(c.value=w.value.clientWidth,u.value=x.value.clientWidth,e.animateOnOverflowOnly&&B.value)return c.value<=u.value?(q.value=!0,t("onOverflowCleared")):(q.value=!1,t("onOverflowDetected")),0;const d=Math.ceil(u.value/c.value);return a.value=isFinite(d)?d:0,a.value}else return n.value="100%",o.value="100%",0;else return n.value="100%",o.value="100%",0},100)};D(c,async()=>{e.clone&&z()}),D(u,async()=>{(e.clone||e.animateOnOverflowOnly)&&z()}),D(()=>e.pause,(d,N)=>{d!==N&&t(d?"onResume":"onPause")});const Z=()=>{e.pauseOnHover&&(t("onPause"),_.value=!0)},ee=()=>{e.pauseOnHover&&(t("onResume"),_.value=!1)},te=()=>{e.pauseOnClick&&(t("onPause"),O.value=!0)},ae=()=>{e.pauseOnClick&&(t("onResume"),O.value=!1)},W=I(()=>e.pause||e.vertical&&l.value||e.animateOnOverflowOnly&&q.value?"paused":"running"),ne=I(()=>e.pauseOnHover&&(_.value||O.value)||!e.pauseOnHover&&W.value==="paused"?"paused":"running"),oe=I(()=>e.pauseOnHover&&_.value||e.pauseOnClick&&O.value||!e.pauseOnHover&&W.value==="paused"?"paused":"running"),re=I(()=>{const d={"--duration":`${e.duration}s`,"--delay":`${e.delay}s`,"--direction":`${e.direction}`,"--pauseOnHover":`${ne.value}`,"--pauseOnClick":`${oe.value}`,"--pauseAnimation":`${W.value}`,"--loops":`${e.loop===0?"infinite":e.loop}`,"--gradient-color":`rgba(${e.gradientColor[0]}, ${e.gradientColor[1]}, ${e.gradientColor[2]}, 1), rgba(${e.gradientColor[0]}, ${e.gradientColor[1]}, ${e.gradientColor[2]}, 0)`,"--gradient-length":`${v.value}`,"--min-width":`${n.value}`,"--min-height":`${o.value}`},N={"--orientation":"scrollX",orientation:"horizontal"};return e.vertical&&(N["--orientation"]="scrollY"),G(G({},d),N)}),le=I(()=>!!e.gradient),F=async()=>{e.vertical?(o.value="100%",n.value="auto",e.animateOnOverflowOnly&&console.warn("The `animateOnOverflowOnly` prop is not supported for vertical marquees.")):(o.value="auto",e.animateOnOverflowOnly?n.value="auto":n.value="100%"),e.gradient&&(e.gradientWidth?(console.warn("The `gradientWidth` prop has been deprecated and will be removed in a future release. Please use `gradientLength` instead."),v.value=e.gradientWidth):e.gradientLength&&(v.value=e.gradientLength)),(e.clone||e.animateOnOverflowOnly)&&(await L(),z()),B.value=!0};return J(async()=>{F(),C.value=setInterval(()=>{S.value++,e.loop!==0&&S.value===e.loop&&(t("onComplete"),clearInterval(C.value)),t("onLoopComplete")},e.duration*1e3)}),ue(()=>{clearInterval(C.value)}),{ready:B,contentWidth:c,containerWidth:u,contentHeight:p,containerHeight:M,loopCounter:S,loopInterval:C,mouseOverMarquee:_,mouseDownMarquee:O,minWidth:n,minHeight:o,animateOnOverflowPause:q,marqueeContent:w,marqueeOverlayContainer:x,componentKey:f,showGradient:le,cloneAmount:a,ForcesUpdate:z,checkForClone:L,setupMarquee:F,getCurrentStyle:re,hoverStarted:Z,hoverEnded:ee,mouseDown:te,mouseUp:ae}}}),xe={class:"transparent-overlay",ref:"marqueeOverlayContainer","aria-hidden":!0},$e={class:"marquee",ref:"marqueeContent"},be={key:1,"aria-hidden":!0,class:"marquee"};function qe(e,t,a,n,o,f){return e.ready?(i(),b("div",{class:H(["vue3-marquee",{vertical:e.vertical,horizontal:!e.vertical}]),style:ce(e.getCurrentStyle),key:e.componentKey,onMouseenter:t[0]||(t[0]=(...l)=>e.hoverStarted&&e.hoverStarted(...l)),onMouseleave:t[1]||(t[1]=(...l)=>e.hoverEnded&&e.hoverEnded(...l)),onMousedown:t[2]||(t[2]=(...l)=>e.mouseDown&&e.mouseDown(...l)),onMouseup:t[3]||(t[3]=(...l)=>e.mouseUp&&e.mouseUp(...l))},[j("div",xe,null,512),e.showGradient?(i(),b("div",{key:0,"aria-hidden":!0,class:H(["overlay",{vertical:e.vertical,horizontal:!e.vertical}])},null,2)):k("",!0),j("div",$e,[A(e.$slots,"default")],512),!e.animateOnOverflowOnly||e.animateOnOverflowOnly&&!e.animateOnOverflowPause?(i(),b("div",be,[A(e.$slots,"default")])):k("",!0),(i(!0),b(U,null,X(e.cloneAmount,l=>(i(),b("div",{"aria-hidden":!0,class:"marquee cloned",key:l},[A(e.$slots,"default")]))),128))],38)):k("",!0)}var Re=Oe(we,[["render",qe]]);const Ce=E({__name:"AgentMessage",props:{author:{}},setup(e){return(t,a)=>{const n=y("v-card");return i(),m(n,{class:"d-inline-block text-subtitle-2 px-4 py-3",color:t.author==="me"?"grey-lighten-2":"grey-lighten-4",rounded:"",flat:"","max-width":"70%"},{default:s(()=>[A(t.$slots,"default",{},void 0,!0)]),_:3},8,["color"])}}}),Q=Object.assign(V(Ce,[["__scopeId","data-v-c0bf2b7f"]]),{__name:"AgentMessage"}),ke={};function Ae(e,t){const a=y("v-progress-linear"),n=Q;return i(),m(n,{author:"bot",width:56},{default:s(()=>[g(a,{indeterminate:"",color:"grey-lighten-2"})]),_:1})}const Me=Object.assign(V(ke,[["render",Ae]]),{__name:"AgentMessageWaiting"});class P{constructor(t,a,n){$(this,"chat",[]);$(this,"listElement");$(this,"agentBaseURL");$(this,"userId");$(this,"roomId");$(this,"textNotAvailable","");this.listElement=t,this.agentBaseURL=a,this.userId=P.generateID("xxxxxxx"),this.roomId=`room-${P.generateID("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")}`,this.textNotAvailable=n}static generateID(t){return t.replace(/[xy]/g,a=>{const n=Math.random()*16|0;return(a==="x"?n:n&3|8).toString(16)})}scrollToBottom(){this.listElement.$el.scrollTop=this.listElement.$el.scrollHeight}addNewMessage(t,a){this.chat.push({author:t,text:a}),setTimeout(()=>{this.scrollToBottom()},25)}async sendMessage(t){const a={text:t,userId:this.userId,roomId:this.roomId},n=`${this.agentBaseURL}/message`;await fetch(n,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(a)}).then(o=>{if(!o.ok)throw new Error(`Request failed with status: ${o.status}`);return o.json()}).then(o=>{o.length>0&&this.addNewMessage("bot",o[0].text)}).catch(async()=>new Promise(o=>setTimeout(()=>{this.addNewMessage("bot",this.textNotAvailable),o(!0)},3e3)))}}const Se=de("agent",()=>{const e=r(null),t=r("");function a(n,o){e.value||(e.value=new P(n,o))}return{agent:e,text:t,initialize:a}}),Ie=E({__name:"AgentForm",setup(e){const t=Se(),a=ve(),{t:n}=me(),o=a.agent.baseURL,f=fe("listElement"),l=r(!1);J(()=>{t.initialize(f,o,n("agent.reply.notAvailable"))});async function q(){const u=String(t.text);t.text="",t.agent.addNewMessage("me",u),l.value=!0,await t.agent.sendMessage(u),l.value=!1}return(u,c)=>{const M=Q,p=y("v-list-item"),_=Me,O=y("v-list"),S=ge,C=y("v-text-field");return i(),b(U,null,[h(t).agent?(i(),m(O,{key:0,ref_key:"listElement",ref:f,class:"mt-2",height:"50vh","max-height":400},{default:s(()=>[(i(!0),b(U,null,X(h(t).agent.chat,v=>(i(),m(p,{class:H(["py-1"])},{default:s(()=>[g(M,{author:v.author,class:H([{"float-right":v.author==="me"}])},{default:s(()=>[R(T(v.text),1)]),_:2},1032,["author","class"])]),_:2},1024))),256)),h(l)?(i(),m(p,{key:0,class:"py-1"},{default:s(()=>[g(_)]),_:1})):k("",!0),h(t).agent.chat&&h(t).agent.chat.length===0?(i(),m(p,{key:1,class:"fill-height text-center"},{default:s(()=>[R(T(u.$t("agent.intro.line1")),1),c[1]||(c[1]=j("br",null,null,-1)),R(" "+T(u.$t("agent.intro.line2")),1)]),_:1})):k("",!0)]),_:1},512)):k("",!0),g(C,{modelValue:h(t).text,"onUpdate:modelValue":c[0]||(c[0]=v=>h(t).text=v),variant:"solo",flat:"","hide-details":"",autocomplete:"off",spellcheck:"false",readonly:h(l),placeholder:u.$t("agent.field"),onKeydown:he(q,["enter"])},{prepend:s(()=>[g(S,{name:"mdi:account-circle-outline",size:24,class:"ml-5 mr-n4 text-grey-darken-3"})]),_:1},8,["modelValue","readonly","placeholder"])],64)}}}),Be=Object.assign(Ie,{__name:"AgentForm"}),ze=E({__name:"AppDialog",props:{fullscreen:{type:Boolean},dialogMaxWidth:{default:"calc(100vw - 36px)"}},setup(e){return(t,a)=>{const n=y("v-card"),o=y("v-bottom-sheet"),f=y("v-dialog");return t.$vuetify.display.xs?(i(),m(o,{key:0,activator:"parent"},{default:s(()=>[g(n,{class:"v-card--rounded-top"},{default:s(()=>[A(t.$slots,"default")]),_:3})]),_:3})):(i(),m(f,{key:1,width:600,"max-width":t.dialogMaxWidth,fullscreen:t.fullscreen,transition:"dialog-bottom-transition",activator:"parent"},{default:s(()=>[g(n,{rounded:!t.fullscreen},{default:s(()=>[A(t.$slots,"default")]),_:3},8,["rounded"])]),_:3},8,["max-width","fullscreen"]))}}}),Ne=Object.assign(ze,{__name:"AppDialog"}),He={};function Pe(e,t){const a=Be,n=Ne;return i(),m(n,null,{default:s(()=>[g(a)]),_:1})}const Te=Object.assign(V(He,[["render",Pe]]),{__name:"AgentLauncher"});export{Re as V,Ne as _,Te as a};
