const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BisUHEfW.js","./NWhJDZ4X.js","./entry.DQPe6J81.css"])))=>i.map(i=>d[i]);
import{ah as B,ai as D,H as E,aj as L,ak as U,$ as W,al as M,j as F,am as N,an as q,s as j,g as A,ao as H,ap as V,x as Q}from"./NWhJDZ4X.js";const k=n=>n==="defer"||n===!1;function ue(...n){var P;const r=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(r);let[a,s,e={}]=n;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const t=B(),o=s,d=()=>D.value,i=()=>t.isHydrating?t.payload.data[a]:t.static.data[a];e.server=e.server??!0,e.default=e.default??d,e.getCachedData=e.getCachedData??i,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??D.deep,e.dedupe=e.dedupe??"cancel";const l=e.getCachedData(a,t),p=l!=null;if(!t._asyncData[a]||!e.immediate){(P=t.payload._errors)[a]??(P[a]=D.errorValue);const h=e.deep?E:L;t._asyncData[a]={data:h(p?l:e.default()),pending:E(!p),error:U(t.payload._errors,a),status:E("idle"),_default:e.default}}const c={...t._asyncData[a]};delete c._default,c.refresh=c.execute=(h={})=>{if(t._asyncDataPromises[a]){if(k(h.dedupe??e.dedupe))return t._asyncDataPromises[a];t._asyncDataPromises[a].cancelled=!0}if(h._initial||t.isHydrating&&h._initial!==!1){const m=h._initial?l:e.getCachedData(a,t);if(m!=null)return Promise.resolve(m)}c.pending.value=!0,c.status.value="pending";const u=new Promise((m,f)=>{try{m(o(t))}catch(y){f(y)}}).then(async m=>{if(u.cancelled)return t._asyncDataPromises[a];let f=m;e.transform&&(f=await e.transform(m)),e.pick&&(f=K(f,e.pick)),t.payload.data[a]=f,c.data.value=f,c.error.value=D.errorValue,c.status.value="success"}).catch(m=>{if(u.cancelled)return t._asyncDataPromises[a];c.error.value=q(m),c.data.value=j(e.default()),c.status.value="error"}).finally(()=>{u.cancelled||(c.pending.value=!1,delete t._asyncDataPromises[a])});return t._asyncDataPromises[a]=u,t._asyncDataPromises[a]},c.clear=()=>z(t,a);const C=()=>c.refresh({_initial:!0}),v=e.server!==!1&&t.payload.serverRendered;{const h=A();if(h&&v&&e.immediate&&!h.sp&&(h.sp=[]),h&&!h._nuxtOnBeforeMountCbs){h._nuxtOnBeforeMountCbs=[];const f=h._nuxtOnBeforeMountCbs;W(()=>{f.forEach(y=>{y()}),f.splice(0,f.length)}),M(()=>f.splice(0,f.length))}v&&t.isHydrating&&(c.error.value||l!=null)?(c.pending.value=!1,c.status.value=c.error.value?"error":"success"):h&&(t.payload.serverRendered&&t.isHydrating||e.lazy)&&e.immediate?h._nuxtOnBeforeMountCbs.push(C):e.immediate&&C();const u=H();if(e.watch){const f=F(e.watch,()=>c.refresh());u&&N(f)}const m=t.hook("app:data:refresh",async f=>{(!f||f.includes(a))&&await c.refresh()});u&&N(m)}const g=Promise.resolve(t._asyncDataPromises[a]).then(()=>c);return Object.assign(g,c),g}function z(n,r){r in n.payload.data&&(n.payload.data[r]=void 0),r in n.payload._errors&&(n.payload._errors[r]=D.errorValue),n._asyncData[r]&&(n._asyncData[r].data.value=j(n._asyncData[r]._default()),n._asyncData[r].error.value=D.errorValue,n._asyncData[r].pending.value=!1,n._asyncData[r].status.value="idle"),r in n._asyncDataPromises&&(n._asyncDataPromises[r]&&(n._asyncDataPromises[r].cancelled=!0),n._asyncDataPromises[r]=void 0)}function K(n,r){const a={};for(const s of r)a[s]=n[s];return a}const x=/\d/,G=["-","_","/","."];function Y(n=""){if(!x.test(n))return n!==n.toLowerCase()}function I(n,r){const a=G,s=[];if(!n||typeof n!="string")return s;let e="",t,o;for(const d of n){const i=a.includes(d);if(i===!0){s.push(e),e="",t=void 0;continue}const l=Y(d);if(o===!1){if(t===!1&&l===!0){s.push(e),e=d,t=l;continue}if(t===!0&&l===!1&&e.length>1){const p=e.at(-1);s.push(e.slice(0,Math.max(0,e.length-1))),e=p+d,t=l;continue}}e+=d,t=l,o=i}return s.push(e),s}function J(n){return n?n[0].toUpperCase()+n.slice(1):""}function X(n,r){return n?(Array.isArray(n)?n:I(n)).map(a=>J(r!=null&&r.normalize?a.toLowerCase():a)).join(""):""}function fe(n,r){return n?(Array.isArray(n)?n:I(n)).map(a=>a.toLowerCase()).join("-"):""}const de={content:"jiUDjkPC1g"},Z={content:"_content_content",info:"_content_info"},he={content:{jsonFields:["meta","seo","body","navigation"]},info:{jsonFields:[]}},S=(n,r)=>{const a=n._conditions;return a.length>0?`(${a.join(` ${r} `)})`:""},b=n=>{const r=[],a={_conditions:r,where(s,e,t){let o;switch(e.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(t)){const d=t.map(i=>`'${i}'`).join(", ");o=`"${String(s)}" ${e.toUpperCase()} (${d})`}else throw new TypeError(`Value for ${e} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(t)&&t.length===2)o=`"${String(s)}" ${e.toUpperCase()} '${t[0]}' AND '${t[1]}'`;else throw new Error(`Value for ${e} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":o=`"${String(s)}" ${e.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":o=`"${String(s)}" ${e.toUpperCase()} '${t}'`;break;default:o=`"${String(s)}" ${e} '${t}'`}return r.push(`${o}`),a},andWhere(s){const e=s(b());return r.push(S(e,"AND")),a},orWhere(s){const e=s(b());return r.push(S(e,"OR")),a}};return a},ee=(n,r)=>{const a={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},s={andWhere(t){const o=t(b());return a.conditions.push(S(o,"AND")),s},orWhere(t){const o=t(b());return a.conditions.push(S(o,"OR")),s},path(t){return s.where("path","=",V(t))},skip(t){return a.offset=t,s},where(t,o,d){return s.andWhere(i=>i.where(String(t),o,d)),s},limit(t){return a.limit=t,s},select(...t){return t.length&&a.selectedFields.push(...t),s},order(t,o){return a.orderBy.push(`"${String(t)}" ${o}`),s},async all(){return r(n,e()).then(t=>t||[])},async first(){return r(n,e({limit:1})).then(t=>t[0]||null)},async count(t="*",o=!1){return r(n,e({count:{field:String(t),distinct:o}})).then(d=>d[0].count)}};function e(t={}){let o="SELECT ";if(t!=null&&t.count)o+=`COUNT(${t.count.distinct?"DISTINCT":""} ${t.count.field}) as count`;else{const i=Array.from(new Set(a.selectedFields));o+=i.length>0?i.map(l=>`"${String(l)}"`).join(", "):"*"}o+=` FROM ${Z[String(n)]}`,a.conditions.length>0&&(o+=` WHERE ${a.conditions.join(" AND ")}`),a.orderBy.length>0?o+=` ORDER BY ${a.orderBy.join(", ")}`:o+=" ORDER BY stem ASC";const d=(t==null?void 0:t.limit)||a.limit;return d>0&&(a.offset>0?o+=` LIMIT ${d} OFFSET ${a.offset}`:o+=` LIMIT ${d}`),o}return s};function te(){const n=[{name:"start",time:performance.now()}];return{tick(r){n.push({name:r,time:performance.now()})},end(r){const a=n.reduce((s,e,t)=>(t>0&&s.push(`-- ${e.name}: ${(e.time-n[t-1].time).toPrecision(4)}ms
`),s),[]);return`${r}: ${(n[n.length-1].time-n[0].time).toPrecision(4)}ms
${a.join("")}`}}}async function ne(n,r=[]){const a=await n.order("stem","ASC").orWhere(i=>i.where("navigation","<>","false").where("navigation","IS NULL")).select("navigation","stem","path","title","meta",...r||[]).all(),{contents:s,configs:e}=a.reduce((i,l)=>{var p;if(String(l.stem).split("/").pop()===".navigation"){l.title=((p=l.title)==null?void 0:p.toLowerCase())==="navigation"?"":l.title;const c=l.path.split("/").slice(0,-1).join("/")||"/";i.configs[c]={...l,...l.body}}else i.contents.push(l);return i},{configs:{},contents:[]}),t=i=>({...O(["title",...r])(i),...i.meta,...T(i==null?void 0:i.navigation)?i.navigation:{}}),o=i=>({...O(["title",...r])(i),...T(i==null?void 0:i.navigation)?i.navigation:{}}),d=s.reduce((i,l)=>{var h;const p=l.path.substring(1).split("/"),c=l.stem.split("/"),C=!!((h=c[c.length-1])!=null&&h.match(/([1-9]\d*\.)?index/g)),v=u=>({title:u.title,path:u.path,stem:u.stem,children:[],...o(u)}),g=v(l);if(C){const u=e[g.path];if(typeof(u==null?void 0:u.navigation)<"u"&&(u==null?void 0:u.navigation)===!1)return i;if(l.path!=="/"){const m=v(l);g.children.push(m)}u&&Object.assign(g,t(u))}return p.length===1?(i.push(g),i):(p.slice(0,-1).reduce((u,m,f)=>{const y="/"+p.slice(0,f+1).join("/"),_=e[y];if(typeof(_==null?void 0:_.navigation)<"u"&&_.navigation===!1)return[];let w=u.find($=>$.path===y);if(!w){const $=_?t(_):{};w={...$,title:$.title||re(m),path:y,stem:c.join("/"),children:[],page:!1},u.push(w)}return w.children},i).push(g),i)},[]);return R(d)}const ae=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function R(n){var a;const r=n.sort((s,e)=>ae.compare(s.stem,e.stem));for(const s of r)(a=s.children)!=null&&a.length?R(s.children):delete s.children;return n}function O(n){return r=>(r=r||{},n&&n.length?n.filter(a=>typeof r[a]<"u").reduce((a,s)=>Object.assign(a,{[s]:r[s]}),{}):r)}function T(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const re=n=>n.split(/[\s-]/g).map(X).join(" "),se=n=>ee(n,(r,a)=>ie(r,a));function me(n,r){return ce(n,a=>ne(a,r))}async function ie(n,r){return oe(n,r)}async function oe(n,r){const a=te(),s=await Q(()=>import("./BisUHEfW.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>e.loadDatabaseAdapter(n)).then(e=>e.all(r));return a.tick("Execute Query"),console.log(a.end("Run with Compressed Dump")),s}function ce(n,r){const a=se(n),s={where(e,t,o){return a.where(String(e),t,o),s},andWhere(e){return a.andWhere(e),s},orWhere(e){return a.orWhere(e),s},order(e,t){return a.order(String(e),t),s},then(e,t){return r(a).then(e,t)},catch(e){return this.then(void 0,e)},finally(e){return this.then(void 0,void 0).finally(e)},get[Symbol.toStringTag](){return"Promise"}};return s}export{me as a,he as b,de as c,fe as k,te as m,X as p,se as q,Z as t,ue as u};
